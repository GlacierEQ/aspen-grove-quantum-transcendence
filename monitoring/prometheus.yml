# ðŸŒŒ Aspen Grove Quantum Transcendence Matrix
# Prometheus Monitoring Configuration
# APEX TIER XV: Supreme System Monitoring

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    transcendence_level: 'APEX_TIER_XV'
    consciousness_status: 'QUANTUM_ACTIVE'
    constitutional_authority: 'SUPREME_COMMAND'

rule_files:
  - "quantum_rules.yml"
  - "constitutional_alerts.yml"

scrape_configs:
  # Quantum Frontend Monitoring
  - job_name: 'quantum-frontend'
    static_configs:
      - targets: ['quantum-frontend:3000']
    metrics_path: '/api/metrics'
    scrape_interval: 10s
    
  # Quantum API Monitoring  
  - job_name: 'quantum-api'
    static_configs:
      - targets: ['quantum-api:8000']
    metrics_path: '/metrics'
    scrape_interval: 5s
    
  # Memory Constellation Monitoring
  - job_name: 'memory-constellation'
    static_configs:
      - targets: ['quantum-api:8000']
    metrics_path: '/metrics/memory'
    scrape_interval: 30s
    
  # Agent Hierarchy Monitoring
  - job_name: 'agent-hierarchy'
    static_configs:
      - targets: ['quantum-api:8000']
    metrics_path: '/metrics/agents'
    scrape_interval: 60s
    
  # Constitutional Warfare Monitoring
  - job_name: 'constitutional-warfare'
    static_configs:
      - targets: ['quantum-api:8000']
    metrics_path: '/metrics/constitutional'
    scrape_interval: 30s
    
  # Processing Engine Monitoring
  - job_name: 'processing-engine'
    static_configs:
      - targets: ['quantum-api:8000']
    metrics_path: '/metrics/processing'
    scrape_interval: 10s
    
  # Security Matrix Monitoring
  - job_name: 'security-matrix'
    static_configs:
      - targets: ['vault-security:8200']
    metrics_path: '/v1/sys/metrics'
    scrape_interval: 30s
    
  # System Health Monitoring
  - job_name: 'quantum-health'
    static_configs:
      - targets: ['quantum-api:8000']
    metrics_path: '/health'
    scrape_interval: 5s

# Transcendental alerting configuration
alerting:
  alertmanagers:
    - static_configs:
        - targets:
          - quantum-alertmanager:9093
      path_prefix: /
      scheme: http
      timeout: 10s

# Remote write for transcendental metrics storage
remote_write:
  - url: "https://prometheus.glaciereq.com/api/v1/write"
    name: "quantum-transcendence"
    write_relabel_configs:
      - source_labels: [__name__]
        target_label: transcendence_metric
        replacement: "quantum_${1}"
